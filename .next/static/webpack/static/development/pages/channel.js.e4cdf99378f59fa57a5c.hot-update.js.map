{"version":3,"file":"static/webpack/static/development/pages/channel.js.e4cdf99378f59fa57a5c.hot-update.js","sources":["webpack:///./pages/channel.js"],"sourcesContent":["import 'isomorphic-fetch'\nimport Link from 'next/link'\n\nexport default class extends React.Component {\n  static async getInitialProps({ query }) {\n    let idChannel = query.id\n\n    let [reqChannel, reqAudios, reqSeries] = await Promise.all([\n      fetch(`https://api.audioboom.com/channels/${idChannel}`),\n      fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`),\n      fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`)\n    ])\n\n    //   Llama el canal con el id especificado\n    let dataChannel = await reqChannel.json()\n    let channel = dataChannel.body.channel\n\n    //   LLama los archivos de audio principales del podcast\n    let dataAudios = await reqAudios.json()\n    let audio_clips = dataAudios.body.audio_clips\n\n    //   LLama los archivos de audio de subseries del podcast\n    let dataSeries = await reqSeries.json()\n    let series = dataSeries.body.channels\n    return { channel, audio_clips, series }\n  }\n  render() {\n    const { channel, audio_clips, series } = this.props\n    return (\n      <div>\n        <Link href=\"/\">\n          <a>\n            <header>Podcasts</header>{' '}\n          </a>\n        </Link>\n        {console.log(channel.urls.banner_image.original)}\n        {channel.urls.banner_image.original != null ? (\n          <img\n            className=\"banner\"\n            src={channel.urls.banner_image.original}\n            alt={`${channel.title} banner`}\n          />\n        ) : (\n          <div className=\"defaultBanner\">\n            <h1>{channel.title}</h1>\n          </div>\n        )}\n\n        <p>{channel.description}</p>\n\n        {audio_clips > [] ? (\n          <>\n            <h2>Ultimos Podcast</h2>\n            {audio_clips.map((clip) => (\n              <Link key={clip.id} href={`/podcast?id=${clip.id}`}>\n                <a className=\"podcast\">\n                  <h3>{clip.title}</h3>\n                  <div className=\"meta\">\n                    {Math.ceil(clip.duration / 60)} minutes\n                  </div>\n                </a>\n              </Link>\n            ))}\n          </>\n        ) : null}\n\n        {series > [] ? (\n          <>\n            <h2>Series</h2>\n            {series.map((serie) => (\n              <Link key={serie.id} href={`/channel?id=${serie.id}`}>\n                <a className=\"podcast\">\n                  <h3>{serie.title}</h3>\n                </a>\n              </Link>\n            ))}\n            {console.log(series)}\n          </>\n        ) : null}\n\n        <style jsx>{`\n          header {\n            color: #fff;\n            background: #8756ca;\n            padding: 15px;\n          }\n          .defaultBanner {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            background-color: #2a0a22;\n          }\n          .defaultBanner h1 {\n            font-size: 7em;\n            text-align: center;\n            color: #bbb;\n          }\n          .banner {\n            width: 100%;\n          }\n          .podcast {\n            display: block;\n            text-decoration: none;\n            color: #333;\n            padding: 15px;\n            border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n            cursor: pointer;\n          }\n          .podcast:hover {\n            color: #000;\n          }\n          .podcast h3 {\n            margin: 0;\n          }\n          .podcast .meta {\n            color: #666;\n            margin-top: 0.5em;\n            font-size: 0.8em;\n          }\n        `}</style>\n        <style jsx global>{`\n          body {\n            margin: 0;\n            font-family: system-ui;\n            background: white;\n          }\n          a {\n            text-decoration: none;\n          }\n        `}</style>\n      </div>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;;AAwBA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuGA;;;;;;;;;;AAhIA;AACA;;AAEA;AACA;;;;AADA;AAAA;AAAA;;AAOA;AACA;;AADA;AACA;AACA;;AAEA;AACA;;AADA;AACA;AACA;;AAEA;AACA;;AADA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAtBA;AACA;;;;;A","sourceRoot":""}