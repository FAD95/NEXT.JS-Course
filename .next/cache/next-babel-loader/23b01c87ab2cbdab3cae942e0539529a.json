{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport Error from '../_error';\nexport default class extends React.Component {\n  static async getInitialProps({\n    res\n  }) {\n    try {\n      let [reqEnglish, reqSpanish] = await Promise.all([fetch('https://api.audioboom.com/channels/recommended'), fetch(`https://api.audioboom.com/channels/recommended?category_ids[]=179`)]);\n\n      if (reqEnglish.status && reqSpanish.status >= 400) {\n        res.statusCode = reqEnglish.status;\n        return {\n          channel: null,\n          audio_clips: null,\n          series: null,\n          statusCode: reqEnglish.status\n        };\n      } //   Llama el canal con el id especificado\n\n\n      let dataEnglish = await reqEnglish.json();\n      let english = dataEnglish.body;\n      let dataSpanish = await reqSpanish.json();\n      let spanish = dataSpanish.body;\n      return {\n        english,\n        spanish,\n        statusCode: 200\n      };\n    } catch (e) {\n      res.statusCode = 503;\n      return {\n        english: null,\n        spanish: null,\n        statusCode: 503\n      };\n    }\n  }\n\n  render() {\n    const {\n      english,\n      spanish,\n      statusCode\n    } = this.props;\n\n    if (statusCode !== 200) {\n      return __jsx(Error, {\n        statusCode: statusCode\n      });\n    }\n\n    return __jsx(Layout, {\n      title: \"Podcasts\"\n    }, __jsx(ChannelGrid, {\n      language: \"English\",\n      channels: english\n    }), __jsx(ChannelGrid, {\n      language: \"Spanish\",\n      channels: spanish\n    }));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}