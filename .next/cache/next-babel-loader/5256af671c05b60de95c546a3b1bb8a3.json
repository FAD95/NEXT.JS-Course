{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport PodcastList from '../components/PodcastList';\nimport ChannelGrid from '../components/ChannelGrid';\nimport Error from '../_error';\nimport PodcastPlayer from '../components/PodcastPlayer';\n\nvar _default = /*#__PURE__*/function (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  var _super = _createSuper(_default);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"openPodcast\", function (event, podcast) {\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: podcast\n      });\n    });\n\n    _this.state = {\n      openPodcast: null\n    };\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          channel = _this$props.channel,\n          audio_clips = _this$props.audio_clips,\n          series = _this$props.series,\n          statusCode = _this$props.statusCode;\n      var openPodcast = this.state.openPodcast;\n\n      if (statusCode !== 200) {\n        return __jsx(Error, {\n          statusCode: statusCode\n        });\n      }\n\n      return __jsx(Layout, {\n        title: channel.title\n      }, channel.urls.banner_image.original != null ? __jsx(\"img\", {\n        src: channel.urls.banner_image.original,\n        alt: \"\".concat(channel.title, \" banner\"),\n        className: \"jsx-404597289\" + \" \" + \"banner\"\n      }) : __jsx(\"div\", {\n        className: \"jsx-404597289\" + \" \" + \"defaultBanner\"\n      }, __jsx(\"h1\", {\n        className: \"jsx-404597289\"\n      }, channel.title)), channel.description > '' ? __jsx(\"div\", {\n        className: \"jsx-404597289\" + \" \" + \"descriptionContainer\"\n      }, __jsx(\"p\", {\n        className: \"jsx-404597289\" + \" \" + \"description\"\n      }, channel.description)) : null, openPodcast && __jsx(\"div\", {\n        className: \"jsx-404597289\"\n      }, \"Hay un podcast abierto\"), audio_clips > [] ? __jsx(PodcastList, {\n        audio_clips: audio_clips,\n        onClickPodcast: this.openPodcast\n      }) : null, series > [] ? __jsx(ChannelGrid, {\n        channels: series,\n        language: \"Series\"\n      }) : null, __jsx(_JSXStyle, {\n        id: \"404597289\"\n      }, \".defaultBanner.jsx-404597289{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#2a0a22;box-shadow:0 0 15px 0 rgba(0,0,0,0.5);}.defaultBanner.jsx-404597289 h1.jsx-404597289{font-size:7em;text-align:center;color:#bbb;}.banner.jsx-404597289{width:100%;}.descriptionContainer.jsx-404597289{border-radius:40px;background-color:#2a0a22;max-height:150px;max-width:500px;margin:2em auto;padding:1em 2em;box-shadow:3px 4px 3px rgba(0,0,0,0.5);}.description.jsx-404597289{max-height:100px;height:100%;overflow-y:scroll;text-align:center;color:#eee;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZhZC9EZXNhcnJvbGxvL3BsYXR6aS9uZXh0LmpzL3BhZ2VzL2NoYW5uZWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUdvQixBQUcwQixBQU9DLEFBS0gsQUFHUSxBQVNGLFdBWG5CLEdBTG9CLEdBaUJOLEVBVGEsVUFVUCxHQWpCUCxXQUNiLENBT21CLEdBVUMsY0FURixJQVVMLFNBM0JZLEVBNEJ6QixDQVZrQixnQkFDQSxnQkFDMEIsdUNBQzVDLHlCQXBCcUIsNkZBQ00seUJBQ2dCLHNDQUMzQyIsImZpbGUiOiIvaG9tZS9mYWQvRGVzYXJyb2xsby9wbGF0emkvbmV4dC5qcy9wYWdlcy9jaGFubmVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdpc29tb3JwaGljLWZldGNoJ1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCdcbmltcG9ydCBQb2RjYXN0TGlzdCBmcm9tICcuLi9jb21wb25lbnRzL1BvZGNhc3RMaXN0J1xuaW1wb3J0IENoYW5uZWxHcmlkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2hhbm5lbEdyaWQnXG5pbXBvcnQgRXJyb3IgZnJvbSAnLi4vX2Vycm9yJ1xuaW1wb3J0IFBvZGNhc3RQbGF5ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Qb2RjYXN0UGxheWVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5Qb2RjYXN0OiBudWxsXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyh7IHF1ZXJ5LCByZXMgfSkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgaWRDaGFubmVsID0gcXVlcnkuaWRcblxuICAgICAgbGV0IFtyZXFDaGFubmVsLCByZXFBdWRpb3MsIHJlcVNlcmllc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWRDaGFubmVsfWApLFxuICAgICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkQ2hhbm5lbH0vYXVkaW9fY2xpcHNgKSxcbiAgICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9L2NoaWxkX2NoYW5uZWxzYClcbiAgICAgIF0pXG4gICAgICBpZiAocmVxQ2hhbm5lbC5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gcmVxQ2hhbm5lbC5zdGF0dXNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjaGFubmVsOiBudWxsLFxuICAgICAgICAgIGF1ZGlvX2NsaXBzOiBudWxsLFxuICAgICAgICAgIHNlcmllczogbnVsbCxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXFDaGFubmVsLnN0YXR1c1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vICAgTGxhbWEgZWwgY2FuYWwgY29uIGVsIGlkIGVzcGVjaWZpY2Fkb1xuICAgICAgbGV0IGRhdGFDaGFubmVsID0gYXdhaXQgcmVxQ2hhbm5lbC5qc29uKClcbiAgICAgIGxldCBjaGFubmVsID0gZGF0YUNoYW5uZWwuYm9keS5jaGFubmVsXG5cbiAgICAgIC8vICAgTExhbWEgbG9zIGFyY2hpdm9zIGRlIGF1ZGlvIHByaW5jaXBhbGVzIGRlbCBwb2RjYXN0XG4gICAgICBsZXQgZGF0YUF1ZGlvcyA9IGF3YWl0IHJlcUF1ZGlvcy5qc29uKClcbiAgICAgIGxldCBhdWRpb19jbGlwcyA9IGRhdGFBdWRpb3MuYm9keS5hdWRpb19jbGlwc1xuXG4gICAgICAvLyAgIExMYW1hIGxvcyBhcmNoaXZvcyBkZSBhdWRpbyBkZSBzdWJzZXJpZXMgZGVsIHBvZGNhc3RcbiAgICAgIGxldCBkYXRhU2VyaWVzID0gYXdhaXQgcmVxU2VyaWVzLmpzb24oKVxuICAgICAgbGV0IHNlcmllcyA9IGRhdGFTZXJpZXMuYm9keS5jaGFubmVsc1xuICAgICAgcmV0dXJuIHsgY2hhbm5lbCwgYXVkaW9fY2xpcHMsIHNlcmllcywgc3RhdHVzQ29kZTogMjAwIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjaGFubmVsOiBudWxsLFxuICAgICAgICBhdWRpb19jbGlwczogbnVsbCxcbiAgICAgICAgc2VyaWVzOiBudWxsLFxuICAgICAgICBzdGF0dXNDb2RlOiA1MDNcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvcGVuUG9kY2FzdCA9IChldmVudCwgcG9kY2FzdCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wZW5Qb2RjYXN0OiBwb2RjYXN0XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNoYW5uZWwsIGF1ZGlvX2NsaXBzLCBzZXJpZXMsIHN0YXR1c0NvZGUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IG9wZW5Qb2RjYXN0IH0gPSB0aGlzLnN0YXRlXG4gICAgaWYgKHN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgcmV0dXJuIDxFcnJvciBzdGF0dXNDb2RlPXtzdGF0dXNDb2RlfSAvPlxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPExheW91dCB0aXRsZT17Y2hhbm5lbC50aXRsZX0+XG4gICAgICAgIHtjaGFubmVsLnVybHMuYmFubmVyX2ltYWdlLm9yaWdpbmFsICE9IG51bGwgPyAoXG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmFubmVyXCJcbiAgICAgICAgICAgIHNyYz17Y2hhbm5lbC51cmxzLmJhbm5lcl9pbWFnZS5vcmlnaW5hbH1cbiAgICAgICAgICAgIGFsdD17YCR7Y2hhbm5lbC50aXRsZX0gYmFubmVyYH1cbiAgICAgICAgICAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVmYXVsdEJhbm5lclwiPlxuICAgICAgICAgICAgPGgxPntjaGFubmVsLnRpdGxlfTwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge2NoYW5uZWwuZGVzY3JpcHRpb24gPiAnJyA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uQ29udGFpbmVyXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiPntjaGFubmVsLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge29wZW5Qb2RjYXN0ICYmIDxkaXY+SGF5IHVuIHBvZGNhc3QgYWJpZXJ0bzwvZGl2Pn1cbiAgICAgICAge2F1ZGlvX2NsaXBzID4gW10gPyAoXG4gICAgICAgICAgPFBvZGNhc3RMaXN0XG4gICAgICAgICAgICBhdWRpb19jbGlwcz17YXVkaW9fY2xpcHN9XG4gICAgICAgICAgICBvbkNsaWNrUG9kY2FzdD17dGhpcy5vcGVuUG9kY2FzdH1cbiAgICAgICAgICA+PC9Qb2RjYXN0TGlzdD5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3NlcmllcyA+IFtdID8gKFxuICAgICAgICAgIDxDaGFubmVsR3JpZCBjaGFubmVscz17c2VyaWVzfSBsYW5ndWFnZT1cIlNlcmllc1wiIC8+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAuZGVmYXVsdEJhbm5lciB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJhMGEyMjtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGVmYXVsdEJhbm5lciBoMSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDdlbTtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIGNvbG9yOiAjYmJiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuYmFubmVyIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGVzY3JpcHRpb25Db250YWluZXIge1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNDBweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYTBhMjI7XG4gICAgICAgICAgICBtYXgtaGVpZ2h0OiAxNTBweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDJlbSBhdXRvO1xuICAgICAgICAgICAgcGFkZGluZzogMWVtIDJlbTtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDNweCA0cHggM3B4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmRlc2NyaXB0aW9uIHtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgY29sb3I6ICNlZWU7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgICA8L0xheW91dD5cbiAgICApXG4gIH1cbn1cbiJdfQ== */\\n/*@ sourceURL=/home/fad/Desarrollo/platzi/next.js/pages/channel.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var query, res, idChannel, _await$Promise$all, _await$Promise$all2, reqChannel, reqAudios, reqSeries, dataChannel, channel, dataAudios, audio_clips, dataSeries, series;\n\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              query = _ref.query, res = _ref.res;\n              _context.prev = 1;\n              idChannel = query.id;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(Promise.all([fetch(\"https://api.audioboom.com/channels/\".concat(idChannel)), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/audio_clips\")), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/child_channels\"))]));\n\n            case 5:\n              _await$Promise$all = _context.sent;\n              _await$Promise$all2 = _slicedToArray(_await$Promise$all, 3);\n              reqChannel = _await$Promise$all2[0];\n              reqAudios = _await$Promise$all2[1];\n              reqSeries = _await$Promise$all2[2];\n\n              if (!(reqChannel.status >= 400)) {\n                _context.next = 13;\n                break;\n              }\n\n              res.statusCode = reqChannel.status;\n              return _context.abrupt(\"return\", {\n                channel: null,\n                audio_clips: null,\n                series: null,\n                statusCode: reqChannel.status\n              });\n\n            case 13:\n              _context.next = 15;\n              return _regeneratorRuntime.awrap(reqChannel.json());\n\n            case 15:\n              dataChannel = _context.sent;\n              channel = dataChannel.body.channel; //   LLama los archivos de audio principales del podcast\n\n              _context.next = 19;\n              return _regeneratorRuntime.awrap(reqAudios.json());\n\n            case 19:\n              dataAudios = _context.sent;\n              audio_clips = dataAudios.body.audio_clips; //   LLama los archivos de audio de subseries del podcast\n\n              _context.next = 23;\n              return _regeneratorRuntime.awrap(reqSeries.json());\n\n            case 23:\n              dataSeries = _context.sent;\n              series = dataSeries.body.channels;\n              return _context.abrupt(\"return\", {\n                channel: channel,\n                audio_clips: audio_clips,\n                series: series,\n                statusCode: 200\n              });\n\n            case 28:\n              _context.prev = 28;\n              _context.t0 = _context[\"catch\"](1);\n              return _context.abrupt(\"return\", {\n                channel: null,\n                audio_clips: null,\n                series: null,\n                statusCode: 503\n              });\n\n            case 31:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 28]], Promise);\n    }\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/home/fad/Desarrollo/platzi/next.js/pages/channel.js"],"names":["Layout","PodcastList","ChannelGrid","Error","PodcastPlayer","props","event","podcast","preventDefault","setState","openPodcast","state","channel","audio_clips","series","statusCode","title","urls","banner_image","original","description","query","res","idChannel","id","Promise","all","fetch","reqChannel","reqAudios","reqSeries","status","json","dataChannel","body","dataAudios","dataSeries","channels","React","Component"],"mappings":"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","sourcesContent":["import 'isomorphic-fetch'\nimport Layout from '../components/Layout'\nimport PodcastList from '../components/PodcastList'\nimport ChannelGrid from '../components/ChannelGrid'\nimport Error from '../_error'\nimport PodcastPlayer from '../components/PodcastPlayer'\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      openPodcast: null\n    }\n  }\n\n  static async getInitialProps({ query, res }) {\n    try {\n      let idChannel = query.id\n\n      let [reqChannel, reqAudios, reqSeries] = await Promise.all([\n        fetch(`https://api.audioboom.com/channels/${idChannel}`),\n        fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`),\n        fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`)\n      ])\n      if (reqChannel.status >= 400) {\n        res.statusCode = reqChannel.status\n        return {\n          channel: null,\n          audio_clips: null,\n          series: null,\n          statusCode: reqChannel.status\n        }\n      }\n\n      //   Llama el canal con el id especificado\n      let dataChannel = await reqChannel.json()\n      let channel = dataChannel.body.channel\n\n      //   LLama los archivos de audio principales del podcast\n      let dataAudios = await reqAudios.json()\n      let audio_clips = dataAudios.body.audio_clips\n\n      //   LLama los archivos de audio de subseries del podcast\n      let dataSeries = await reqSeries.json()\n      let series = dataSeries.body.channels\n      return { channel, audio_clips, series, statusCode: 200 }\n    } catch (e) {\n      return {\n        channel: null,\n        audio_clips: null,\n        series: null,\n        statusCode: 503\n      }\n    }\n  }\n\n  openPodcast = (event, podcast) => {\n    event.preventDefault()\n    this.setState({\n      openPodcast: podcast\n    })\n  }\n\n  render() {\n    const { channel, audio_clips, series, statusCode } = this.props\n    const { openPodcast } = this.state\n    if (statusCode !== 200) {\n      return <Error statusCode={statusCode} />\n    }\n    return (\n      <Layout title={channel.title}>\n        {channel.urls.banner_image.original != null ? (\n          <img\n            className=\"banner\"\n            src={channel.urls.banner_image.original}\n            alt={`${channel.title} banner`}\n          />\n        ) : (\n          <div className=\"defaultBanner\">\n            <h1>{channel.title}</h1>\n          </div>\n        )}\n\n        {channel.description > '' ? (\n          <div className=\"descriptionContainer\">\n            <p className=\"description\">{channel.description}</p>\n          </div>\n        ) : null}\n\n        {openPodcast && <div>Hay un podcast abierto</div>}\n        {audio_clips > [] ? (\n          <PodcastList\n            audio_clips={audio_clips}\n            onClickPodcast={this.openPodcast}\n          ></PodcastList>\n        ) : null}\n\n        {series > [] ? (\n          <ChannelGrid channels={series} language=\"Series\" />\n        ) : null}\n\n        <style jsx>{`\n          .defaultBanner {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            background-color: #2a0a22;\n            box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.5);\n          }\n          .defaultBanner h1 {\n            font-size: 7em;\n            text-align: center;\n            color: #bbb;\n          }\n          .banner {\n            width: 100%;\n          }\n          .descriptionContainer {\n            border-radius: 40px;\n            background-color: #2a0a22;\n            max-height: 150px;\n            max-width: 500px;\n            margin: 2em auto;\n            padding: 1em 2em;\n            box-shadow: 3px 4px 3px rgba(0, 0, 0, 0.5);\n          }\n          .description {\n            max-height: 100px;\n            height: 100%;\n            overflow-y: scroll;\n            text-align: center;\n            color: #eee;\n          }\n        `}</style>\n      </Layout>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}